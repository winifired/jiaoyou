{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/交友(城市猎人app)/components/chat/inputbar/suit/main/main.vue?7eb2","webpack:///C:/Users/Administrator/Desktop/交友(城市猎人app)/components/chat/inputbar/suit/main/main.vue?e264","webpack:///C:/Users/Administrator/Desktop/交友(城市猎人app)/components/chat/inputbar/suit/main/main.vue?e08e","webpack:///C:/Users/Administrator/Desktop/交友(城市猎人app)/components/chat/inputbar/suit/main/main.vue?732a","uni-app:///components/chat/inputbar/suit/main/main.vue","webpack:///C:/Users/Administrator/Desktop/交友(城市猎人app)/components/chat/inputbar/suit/main/main.vue?8d68","webpack:///C:/Users/Administrator/Desktop/交友(城市猎人app)/components/chat/inputbar/suit/main/main.vue?dcaf"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACa;;;AAGhE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA8lB,CAAgB,wnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0ClnB;AACA;AACA;AACA,oE;;AAEA;AACA,MADA,kBACA;AACA;AACA,sBADA;AAEA;AACA,qBAHA,EAGA;AACA,kBAJA;;AAMA,GARA;;AAUA,gBAVA;AAWA;AACA;AACA,kBADA;AAEA,+CAFA,EADA;;AAKA;AACA,kBADA;AAEA,2CAFA,EALA,EAXA;;;;AAsBA;AACA,SAvBA,qBAuBA;AACA;AACA,sCADA;;AAGA,GA3BA;;AA6BA,aA7BA,yBA6BA,EA7BA;;AA+BA,OA/BA,mBA+BA,EA/BA;;AAiCA,WAjCA,uBAiCA,EAjCA;;AAmCA,SAnCA,qBAmCA;AACA;AACA;AACA,GAtCA;;AAwCA;AACA,SADA,mBACA;AACA;AACA,qBADA;;AAGA,KALA;AAMA,QANA,kBAMA;AACA;AACA,qBADA;;AAGA,KAVA;;AAYA,eAZA,yBAYA;AACA;AACA,KAdA;;AAgBA,kBAhBA,4BAgBA;AACA;AACA,KAlBA;;AAoBA,eApBA,uBAoBA,CApBA,EAoBA;AACA;AACA,mCADA;;AAGA,KAxBA;;AA0BA,eA1BA,uBA0BA,KA1BA,EA0BA;AACA;AACA;;AAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,KA7CA;;AA+CA,eA/CA,yBA+CA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,6BADA;AAEA,kCAFA;AAGA,8BAHA;AAIA;AACA,+BALA;AAMA,eANA,mBAMA,EANA,EAMA,WANA,EAMA;AACA;AACA;AACA;AACA;AACA;AACA,SAZA;AAaA,YAbA,gBAaA,EAbA,EAaA,WAbA,EAaA;AACA;AACA,SAfA;;;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA,gBADA;AAEA,0BAFA;;AAIA;AACA;AACA;AACA;AACA,KAxFA;;AA0FA,eA1FA,uBA0FA,GA1FA,EA0FA;AACA;AACA,KA5FA;;AA8FA,aA9FA,uBA8FA;AACA;AACA,KAhGA;AAiGA,mBAjGA,6BAiGA;AACA;AACA,KAnGA;AAoGA,gBApGA,0BAoGA;AACA;AACA,KAtGA,EAxCA,E;;;;;;;;;;;;;AC/CA;AAAA;AAAA;AAAA;AAAg3B,CAAgB,i3BAAG,EAAC,C;;;;;;;;;;;ACAp4B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/chat/inputbar/suit/main/main.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./main.vue?vue&type=template&id=24211397&\"\nvar renderjs\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/chat/inputbar/suit/main/main.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./main.vue?vue&type=template&id=24211397&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./main.vue?vue&type=script&lang=js&\"","<template>\n  <!-- <chat-suit-emoji id=\"chat-suit-emoji\" bind:newEmojiStr=\"emojiAction\"></chat-suit-emoji> -->\n  <form class=\"text-input\">\n    <view :class=\"isIPX ?'f-row-x' :'f-row'\">\n      <!-- 发送语音 -->\n      <view>\n        <image class=\"icon-mic\" src=\"/static/images/voice.png\" @tap=\"openRecordModal\"></image>\n      </view>\n      <!-- 输入框 -->\n      <textarea\n        class=\"f news\"\n        type=\"text\"\n        cursor-spacing=\"65\"\n        confirm-type='done'\n        v-model=\"inputMessage\"\n        @confirm=\"sendMessage\"\n        @input=\"bindMessage\"\n        @tap=\"focus\"\n        @focus=\"focus\"\n        @blur=\"blur\"\n        :confirm-hold=\"isIPX ? true : false\"\n        auto-height\n        :show-confirm-bar='false'\n        maxlength=\"300\"\n      />\n      <view>\n        <image class=\"icon-mic\" src=\"/static/images/Emoji.png\" @tap=\"openEmoji\"></image>\n      </view>\n      <view v-show=\"!inputMessage\" @tap=\"openFunModal\">\n        <image class=\"icon-mic\" src=\"/static/images/ad.png\"></image>\n      </view>\n       <button \n        class=\"send-btn-style\" \n        hover-class='hover'\n        @tap=\"sendMessage\"\n        v-show=\"inputMessage\" \n      >发送</button>\n    </view>\n  </form>\n</template>\n\n<script>\nlet WebIM = require(\"../../../../../utils/WebIM\")[\"default\"];\nlet msgType = require(\"../../../msgtype\");\nlet disp = require(\"../../../../../utils/broadcast\");\nlet msgStorage = require(\"../../../msgstorage\");\n\nexport default {\n  data() {\n    return {\n      inputMessage: \"\",\n      // render input 的值\n      userMessage: \"\", // input 的实时值\n      isIPX: false,\n    };\n  },\n\n  components: {},\n  props: {\n    username: {\n      type: Object,\n      default: () => ({}),\n    },\n    chatType: {\n      type: String,\n      default: msgType.chatType.SINGLE_CHAT,\n    },\n  },\n\n  // lifetimes\n  created() {\n    this.setData({\n      isIPX: getApp().globalData.isIPX,\n    });\n  },\n\n  beforeMount() {},\n\n  moved() {},\n\n  destroyed() {},\n\n  mounted() {\r\n\t  console.log('this.username.................................')\r\n\t  console.log(this.username)\r\n  },\n\n  methods: {\n    focus() {\n      this.$emit(\"inputFocused\", null, {\n        bubbles: true,\n      });\n    },\n    blur() {\n      this.$emit(\"inputBlured\", null, {\n        bubbles: true,\n      });\n    },\n\n    isGroupChat() {\n      return this.chatType == msgType.chatType.CHAT_ROOM;\n    },\n\n    getSendToParam() {\n      return this.isGroupChat() ? this.username.groupId : this.username.your;\n    },\n\n    bindMessage(e) {\n      this.setData({\n        userMessage: e.detail.value,\n      });\n    },\n\n    emojiAction(emoji) {\n      var str;\n      var msglen = this.userMessage.length - 1;\n\n      if (emoji && emoji != \"[del]\") {\n        str = this.userMessage + emoji;\n      } else if (emoji == \"[del]\") {\n        let start = this.userMessage.lastIndexOf(\"[\");\n        let end = this.userMessage.lastIndexOf(\"]\");\n        let len = end - start;\n\n        if (end != -1 && end == msglen && len >= 3 && len <= 4) {\n          str = this.userMessage.slice(0, start);\n        } else {\n          str = this.userMessage.slice(0, msglen);\n        }\n      }\n      this.userMessage = str;\n      this.inputMessage = str;\n    },\n\n    sendMessage() {\n      let me = this;\n      String.prototype.trim = function () {\n        return this.replace(/(^\\s*)|(\\s*$)/g, \"\");\n      };\n      if (!this.userMessage.trim()) {\n        return;\n      }\n      let id = WebIM.conn.getUniqueId();\n      let msg = new WebIM.message(msgType.TEXT, id);\n      msg.set({\n        msg: this.userMessage,\n        from: this.username.myName,\n        to: this.username.your,\n        // roomType: false,\n        chatType: this.chatType,\n        success(id, serverMsgId) {\n          console.log(\"成功了\");\n          // 关闭表情弹窗\n          me.$parent.cancelEmoji()\n          me.$parent.closeFunModal()\n          disp.fire(\"em.chat.sendSuccess\", id, me.userMessage);\n        },\n        fail(id, serverMsgId) {\n          console.log(\"失败了\");\n        },\n      });\n\t  \n      if (this.chatType == msgType.chatType.CHAT_ROOM) {\n        // msg.setGroup(\"groupchat\");\n\t\tmsg.setChatType(\"groupchat\");\n      }\n        WebIM.conn.send(msg.body);\n        let obj = {\n          msg: msg,\n          type: msgType.TEXT,\n        };\n        this.saveSendMsg(obj);\n      this.userMessage = \"\";\n      this.inputMessage = \"\";\n      uni.hideKeyboard();\n    },\n\n    saveSendMsg(evt) {\n      msgStorage.saveMsg(evt.msg, evt.type);\n    },\n\n    openEmoji(){\n      this.$emit('openEmoji')\n    },\n    openRecordModal(){\n      this.$emit('openRecordModal')\n    },\n    openFunModal(){\n      this.$emit('openFunModal')\n    }\n  },\n};\n</script>\n<style>\n@import \"./main.css\";\n</style>","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./main.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./main.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1641537567295\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}