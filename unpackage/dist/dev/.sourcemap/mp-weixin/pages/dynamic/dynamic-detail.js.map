{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Admin/Desktop/交友(城市猎人app)/pages/dynamic/dynamic-detail.vue?aa91","webpack:///C:/Users/Admin/Desktop/交友(城市猎人app)/pages/dynamic/dynamic-detail.vue?9209","webpack:///C:/Users/Admin/Desktop/交友(城市猎人app)/pages/dynamic/dynamic-detail.vue?7e5a","webpack:///C:/Users/Admin/Desktop/交友(城市猎人app)/pages/dynamic/dynamic-detail.vue?b4a1","uni-app:///pages/dynamic/dynamic-detail.vue","webpack:///C:/Users/Admin/Desktop/交友(城市猎人app)/pages/dynamic/dynamic-detail.vue?fb94","webpack:///C:/Users/Admin/Desktop/交友(城市猎人app)/pages/dynamic/dynamic-detail.vue?582b"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,gH,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,sBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuI;AACvI;AACkE;AACL;AACsC;;;AAGnG;AAC+K;AAC/K,gBAAgB,wLAAU;AAC1B,EAAE,oFAAM;AACR,EAAE,qGAAM;AACR,EAAE,8GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,gQAEN;AACP,KAAK;AACL;AACA,aAAa,oMAEN;AACP,KAAK;AACL;AACA,aAAa,wLAEN;AACP,KAAK;AACL;AACA,aAAa,8OAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAA0pB,CAAgB,+qBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2F9qB;;;AAGA;;;;AAIA;;;AAGA,2G;AACA;AACA,0BADA;AAEA,MAFA,kBAEA;AACA;AACA,iBADA;AAEA,kBAFA,EAEA;AACA,sBAHA,EAGA;AACA,iBAJA,EAIA;AACA,kBALA;AAMA,gBANA,EAMA;AACA,qBAPA;AAQA,cARA,EAQA;AACA,kBATA;AAUA,sBAVA;;;AAaA,8CAbA;AAcA,iBAdA;AAeA,mBAfA;;AAiBA,GApBA;AAqBA;AACA,mCADA,CArBA;;AAwBA,QAxBA,kBAwBA,OAxBA,EAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,EAEA,GAFA;AAGA,KAJA,MAIA;AACA;AACA;AACA,OAFA,EAEA,GAFA;AAGA;;AAEA,GAzCA;AA0CA,QA1CA,oBA0CA;AACA;AACA;AACA,GA7CA;AA8CA;AACA,cADA,sBACA,IADA,EACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAXA,EA9CA;;AA2DA;AACA,cADA,sBACA,EADA,EACA;AACA;AACA,2CADA;;AAGA,KALA;AAMA,aANA,uBAMA;AACA;AACA,KARA;AASA,WATA,qBASA;AACA;AACA,gDADA;AAEA,gCAFA;AAGA,UAHA,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAVA;AAWA,KArBA;AAsBA,cAtBA,wBAsBA;AACA;AACA,gCADA;AAEA,UAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCADA,EADA;;AAIA,gBAJA;AAKA;AACA,aAPA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA,OAxBA;AAyBA,KAhDA;AAiDA,QAjDA,gBAiDA,GAjDA,EAiDA;AACA;AACA;AACA;AACA,KArDA;AAsDA,aAtDA,qBAsDA,IAtDA,EAsDA;AACA;AACA;AACA;AACA;AACA;AACA,KA5DA;AA6DA,kBA7DA,4BA6DA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA,KArEA;AAsEA,gBAtEA,0BAsEA;AACA;AACA;AACA,gDADA;AAEA,gCAFA;AAGA,UAHA,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAHA,MAGA;AACA;AACA;AACA;AACA,OAhBA;AAiBA,KAzFA;AA0FA,cA1FA,wBA0FA;AACA;AACA;AACA,KA7FA;AA8FA,YA9FA,oBA8FA,IA9FA,EA8FA,GA9FA,EA8FA,KA9FA,EA8FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA;AAKA;AACA;AACA;AACA,kCADA;AAEA;AACA;AACA,aAJA;AAKA;AACA;AACA,aAPA,EADA;;AAUA,sBAVA;AAWA,mBAXA;;AAaA,OArBA,MAqBA;AACA;AACA;AACA;AACA,KAxHA;AAyHA,YAzHA,sBAyHA;AACA;AACA,KA3HA;AA4HA,eA5HA,uBA4HA,GA5HA,EA4HA;AACA;AACA;AACA;AACA,KAhIA,EA3DA,E;;;;;;;;;;;;;ACtGA;AAAA;AAAA;AAAA;AAAqwC,CAAgB,kuCAAG,EAAC,C;;;;;;;;;;;ACAzxC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/dynamic/dynamic-detail.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/dynamic/dynamic-detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./dynamic-detail.vue?vue&type=template&id=b5a42cb0&scoped=true&\"\nvar renderjs\nimport script from \"./dynamic-detail.vue?vue&type=script&lang=js&\"\nexport * from \"./dynamic-detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dynamic-detail.vue?vue&type=style&index=0&id=b5a42cb0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b5a42cb0\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/dynamic/dynamic-detail.vue\"\nexport default component.exports","export * from \"-!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./dynamic-detail.vue?vue&type=template&id=b5a42cb0&scoped=true&\"","var components\ntry {\n  components = {\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    giftModel: function() {\n      return import(\n        /* webpackChunkName: \"components/repeatGift/repeatGift\" */ \"@/components/repeatGift/repeatGift.vue\"\n      )\n    },\n    tipModel: function() {\n      return import(\n        /* webpackChunkName: \"components/tipModel/tipModel\" */ \"@/components/tipModel/tipModel.vue\"\n      )\n    },\n    commentU: function() {\n      return import(\n        /* webpackChunkName: \"components/commentU/commentU\" */ \"@/components/commentU/commentU.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    _vm.item && _vm.commentList.length > 0\n      ? _vm.__map(_vm.commentList, function(tag, index) {\n          var $orig = _vm.__get_orig(tag)\n\n          var f0 = _vm._f(\"fifterTime\")(tag.createTime)\n\n          return {\n            $orig: $orig,\n            f0: f0\n          }\n        })\n      : null\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      $event.stopPropagation()\n      _vm.showVideo = !_vm.showVideo\n    }\n\n    _vm.e1 = function($event) {\n      $event.stopPropagation()\n      _vm.showVideo = !_vm.showVideo\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./dynamic-detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./dynamic-detail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"list-detail\">\r\n\t\t<view class=\"list\">\r\n\t\t\t<view class=\"flex\" v-if=\"item\">\r\n\t\t\t\t<image :src=\"item.headImg\" mode=\"aspectFill\" class=\"avatar\" @click=\"userDetail(item.userId)\"></image>\r\n\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t<view class=\"nickName font32 color000\">{{item.nickName}}</view>\r\n\t\t\t\t\t<view class=\"time font24 color898\">{{item.releaseTime}}</view>\r\n\t\t\t\t\t<view class=\"text font30\">\r\n\t\t\t\t\t\t<text v-html=\"item.content\"></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- :class=\"item.annexUrl.length==1||tag.type==2?'bigImg':''\" -->\r\n\t\t\t\t\t<view class=\"imgs flex\" v-if=\"item.annexUrl.length>0\">\r\n\t\t\t\t\t\t<view v-for=\"(tag,tag_index) in item.annexUrl\" :key=\"tag_index\"\r\n\t\t\t\t\t\t\t@click.stop=\"showPrev(tag.type,tag.url,item.annexUrl)\">\r\n\t\t\t\t\t\t\t<image :src=\"tag.url\" mode=\"aspectFill\" v-if=\"tag.type==1\"></image>\r\n\t\t\t\t\t\t\t<image :src=\"tag.videoCover\" mode=\"aspectFill\" v-if=\"tag.type==2\"></image>\r\n\t\t\t\t\t\t\t<image src=\"../../static/image/playIcon.png\" mode=\"\" class=\"playIcon\" v-if=\"tag.type==2\">\r\n\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"flex place font24 color999\" v-if=\"item.position\">\r\n\t\t\t\t\t\t<image src=\"../../static/image/place-gray.png\" mode=\"\"></image>\r\n\t\t\t\t\t\t<view class=\"\">{{item.position}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"flex bottom-btns row-center column-end\">\r\n\t\t\t\t\t\t<image src=\"../../static/image/gift-pink.png\" mode=\"\" class=\"gift-pink\" @click=\"opengift\">\r\n\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t<view class=\"flex row-center font24 eva-btn\" @click=\"operation(1)\">\r\n\t\t\t\t\t\t\t<image src=\"../../static/image/eva-icon.png\" mode=\"\" class=\"love\"></image>\r\n\t\t\t\t\t\t\t{{item.commentNum}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"flex row-center font24\" @click=\"operation(2)\">\r\n\t\t\t\t\t\t\t<image src=\"../../static/image/zan1.png\" mode=\"\" class=\"love2\" v-if=\"item.praiseFlag==1\">\r\n\t\t\t\t\t\t\t<image src=\"../../static/image/zan.png\" mode=\"\" class=\"love2\" v-else></image>\r\n\t\t\t\t\t\t\t{{item.praiseNum}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"loveList-evaList\" v-if=\"commentList.length>0\">\r\n\t\t\t\t\t\t<view class=\"single\"></view>\r\n\t\t\t\t\t\t<view class=\"evaList-list\">\r\n\t\t\t\t\t\t\t<view v-for=\"(tag,index) in commentList\" :key=\"index\" class=\"flex evaList-list-item\">\r\n\t\t\t\t\t\t\t\t<image :src=\"tag.headImg\" mode=\"aspectFill\" class=\"love-avatar\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"eva-user\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"eva-user-name flex area-between\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"font26 color364\">{{tag.nickName}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"font24 color999\">{{tag.createTime|fifterTime}}</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"eva-user-content font24 color333 flex area-between\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"cont flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"\" v-if=\"tag.pasNickName\">回复<text\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"color364\">{{tag.pasNickName}}</text>：</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view v-for=\"(val, index) in tag.commentArray\" :key=\"index\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"flex row-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span v-if=\"val.name === 'span'\">{{ val.text }}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<image v-if=\"val.name === 'img'\" class=\"emoji-icon\" :src=\"val.src\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"repeat color0f4\" @click=\"open(tag)\" v-if=\"item.userId==userId&&tag.userId!=userId\">回复\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<uni-popup ref=\"gift\" type=\"bottom\">\r\n\t\t\t<giftModel :userid=\"item&&item.userId?item.userId:''\" @confirmGift=\"confirmGift\" :dynamicId=\"item?item.id:''\"></giftModel>\r\n\t\t</uni-popup>\r\n\t\t<uni-popup ref=\"tipMsg\" type=\"center\" :safe-area=\"false\">\r\n\t\t\t<tipModel :content=\"content\" :leftText=\"leftText\" rightText=\"确认购买\" @clickLeft=\"clickLeft\"\r\n\t\t\t\t@clickRight=\"clickRight\"></tipModel>\r\n\t\t</uni-popup>\r\n\t\t<uni-popup ref=\"eva\" type=\"bottom\">\r\n\t\t\t<!-- 评论弹窗 -->\r\n\t\t\t<commentU :chooseItemid=\"detailId\" :parentId=\"parentId\" :pasUserId=\"pasUserId\"\r\n\t\t\t\t@successEva=\"successEva\">\r\n\t\t\t</commentU>\r\n\t\t</uni-popup>\r\n\t\t<view class=\"video-box\" v-if=\"showVideo\" @click.stop=\"showVideo=!showVideo\" @touchmove.stop=\"touchmove\">\r\n\t\t\t<video :src=\"videoUrl\" controls class=\"videoElse\" autoplay>\r\n\t\t\t\t<cover-image class=\"image\" @click.stop=\"showVideo=!showVideo\" src=\"http://121.196.193.184:8080/jy/profile/upload/2022/02/28/5403dd3d-4583-4c5a-9a37-7d54248cd701.png\"></cover-image>\r\n\t\t\t</video>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tparseText\r\n\t} from '../../components/base/message-facade';\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapActions\r\n\t} from \"vuex\";\r\n\timport {\r\n\t\ttimeago\r\n\t} from \"../../utils/check.js\";\r\n\timport judge from \"../../components/silder-like/judge.js\"\r\n\texport default {\r\n\t\tmixins: [judge],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttimer: null,\r\n\t\t\t\tdetailId: '', //动态id\r\n\t\t\t\tmsgDataindex:'',//动态列表index\r\n\t\t\t\tcontent: '', //tip Content\r\n\t\t\t\tleftText: '',\r\n\t\t\t\titem: null, //详情\r\n\t\t\t\tcommentList: [],\r\n\t\t\t\ttype: '', //1 评论 2点赞\r\n\t\t\t\tvideoUrl: '',\r\n\t\t\t\tshowVideo: false,\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tuserId: uni.getStorageSync('cityUserid'),\r\n\t\t\t\tparentId: 0,\r\n\t\t\t\tpasUserId: '',\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['userinfo'])\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tconsole.log(options)\r\n\t\t\tthis.detailId = options.detailId;\r\n\t\t\tthis.msgDataindex=options.msgDataindex;\r\n\t\t\tthis.getData();\r\n\t\t\t// options.type 3送礼物 1评论\r\n\t\t\tlet that = this;\r\n\t\t\tif (options.type == 3) {\r\n\t\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\t\tthis.opengift();\r\n\t\t\t\t}, 300)\r\n\t\t\t} else if (options.type == 1) {\r\n\t\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\t\tthis.operation(1);\r\n\t\t\t\t}, 300)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tonHide() {\r\n\t\t\tthis.showVideo = false;\r\n\t\t\tclearTimeout(this.timer)\r\n\t\t},\r\n\t\tfilters: {\r\n\t\t\tfifterTime(data) {\r\n\t\t\t\tif (!data) {\r\n\t\t\t\t\treturn '';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdata = data.replace(/-/gi, '/');\r\n\t\t\t\t\tlet time = new Date(data).getTime();\r\n\t\t\t\t\tconsole.log(data)\r\n\t\t\t\t\tconsole.log(time)\r\n\t\t\t\t\treturn timeago(time);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tuserDetail(id){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/index/detail?id='+id\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttouchmove(){\r\n\t\t\t\treturn;\r\n\t\t\t},\r\n\t\t\tgetData() {\r\n\t\t\t\tthis.post(this.apis.dynamicInfo, {\r\n\t\t\t\t\tuserId: uni.getStorageSync('cityUserid'),\r\n\t\t\t\t\tdynamicId: this.detailId\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tthis.pasUserId=res.data.userId;\r\n\t\t\t\t\t\tres.data.annexUrl = res.data.annexUrl ? JSON.parse(res.data.annexUrl) : [];\r\n\t\t\t\t\t\tthis.item = res.data;\r\n\t\t\t\t\t\tthis.getComment();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetComment() {\r\n\t\t\t\tthis.post(this.apis.commentList, {\r\n\t\t\t\t\tdynamicId: this.detailId,\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tthis.commentList = [];\r\n\t\t\t\t\t\tif (res.data.rows.length > 0) {\r\n\t\t\t\t\t\t\tres.data.rows.map(item => {\r\n\t\t\t\t\t\t\t\titem['commentArray'] = item.comment ? parseText({\r\n\t\t\t\t\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\t\t\t\t\ttext: item.comment\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}) : [];\r\n\t\t\t\t\t\t\t\tthis.commentList.push(item)\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.item.commentNum=res.data.rows.length;\r\n\t\t\t\t\t\tlet pages=getCurrentPages();\r\n\t\t\t\t\t\tlet prevPage=pages[pages.length-2];\r\n\t\t\t\t\t\tif(prevPage.route=='pages/dynamic/dynamic'){\r\n\t\t\t\t\t\t\tprevPage.$vm.list[this.msgDataindex].commentNum=this.item.commentNum;\r\n\t\t\t\t\t\t}else if(prevPage.route=='pages/user/userpraise'){\r\n\t\t\t\t\t\t\tprevPage.$vm.list[this.msgDataindex].commentNum=this.item.commentNum;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\topen(tag) {\r\n\t\t\t\tthis.parentId = tag.id;\r\n\t\t\t\tthis.pasUserId = tag.userId;\r\n\t\t\t\tthis.$refs.eva.open();\r\n\t\t\t},\r\n\t\t\toperation(type) {\r\n\t\t\t\t// 所有的功能性操作都需要判断是否是会员，都需要先进入这个方法\r\n\t\t\t\tthis.type = type;\r\n\t\t\t\tif (this.type == 1 || this.type == 2) {\r\n\t\t\t\t\tthis.judge(5)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsuccessOperate() {\r\n\t\t\t\tif (this.type == 1) {\r\n\t\t\t\t\t// 评论\r\n\t\t\t\t\tthis.$refs.eva.open();\r\n\t\t\t\t} else if (this.type == 2) {\r\n\t\t\t\t\t// 点赞\r\n\t\t\t\t\tthis.togglePraise();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttogglePraise() {\r\n\t\t\t\t// 点赞\r\n\t\t\t\tthis.post(this.apis.dynamicPraise, {\r\n\t\t\t\t\tuserId: uni.getStorageSync('cityUserid'),\r\n\t\t\t\t\tdynamicId: this.detailId,\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tthis.item.praiseFlag = res.data.praiseFlag;\r\n\t\t\t\t\t\tthis.item.praiseNum = res.data.praiseNum;\r\n\t\t\t\t\t\tlet pages=getCurrentPages();\r\n\t\t\t\t\t\tlet prevPage=pages[pages.length-2];\r\n\t\t\t\t\t\tif(prevPage.route=='pages/dynamic/dynamic'){\r\n\t\t\t\t\t\t\tprevPage.$vm.list[this.msgDataindex].praiseFlag=this.item.praiseFlag;\r\n\t\t\t\t\t\t\tprevPage.$vm.list[this.msgDataindex].praiseNum=this.item.praiseNum;\r\n\t\t\t\t\t\t}else if(prevPage.route=='pages/user/userpraise'){\r\n\t\t\t\t\t\t\tprevPage.$vm.list.splice(this.msgDataindex,1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsuccessEva() {\r\n\t\t\t\tthis.getComment();\r\n\t\t\t\tthis.$refs.eva.close();\r\n\t\t\t},\r\n\t\t\tshowPrev(type, url, array) {\r\n\t\t\t\tif (type == 1) {\r\n\t\t\t\t\tlet arr = [];\r\n\t\t\t\t\tarray.map(item => {\r\n\t\t\t\t\t\tif (item.type == 1) {\r\n\t\t\t\t\t\t\tarr.push(item.url)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconsole.log(arr)\r\n\t\t\t\t\tuni.previewImage({\r\n\t\t\t\t\t\tlongPressActions: {\r\n\t\t\t\t\t\t\titemList: ['快与TA聊聊吧~'],\r\n\t\t\t\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t\t\t\tconsole.log('选中了第' + (data.tapIndex + 1) + '个按钮,第' + (data.index + 1) + '张图片');\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\t\t\tconsole.log(err.errMsg);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcurrent: url,\r\n\t\t\t\t\t\turls: arr\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.videoUrl = url;\r\n\t\t\t\t\tthis.showVideo = true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\topengift() {\r\n\t\t\t\tthis.$refs.gift.open();\r\n\t\t\t},\r\n\t\t\tconfirmGift(msg) {\r\n\t\t\t\t// 赠送成功提示\r\n\t\t\t\tthis.$toast(msg);\r\n\t\t\t\tthis.$refs.gift.close();\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t@import \"@/common/dynamic.scss\";\r\n\r\n\t.list-detail {\r\n\t\tpadding: 0 30rpx;\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./dynamic-detail.vue?vue&type=style&index=0&id=b5a42cb0&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./dynamic-detail.vue?vue&type=style&index=0&id=b5a42cb0&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1646472804679\n      var cssReload = require(\"D:/software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}