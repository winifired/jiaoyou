{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Admin/Desktop/交友(城市猎人app)/pages/login/login.vue?2582","webpack:///C:/Users/Admin/Desktop/交友(城市猎人app)/pages/login/login.vue?75d9","webpack:///C:/Users/Admin/Desktop/交友(城市猎人app)/pages/login/login.vue?00cc","webpack:///C:/Users/Admin/Desktop/交友(城市猎人app)/pages/login/login.vue?784f","uni-app:///pages/login/login.vue","webpack:///C:/Users/Admin/Desktop/交友(城市猎人app)/pages/login/login.vue?338f","webpack:///C:/Users/Admin/Desktop/交友(城市猎人app)/pages/login/login.vue?a826"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,6F,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AAC+K;AAC/K,gBAAgB,wLAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,gQAEN;AACP,KAAK;AACL;AACA,aAAa,4KAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChDA;AAAA;AAAA;AAAA;AAAipB,CAAgB,sqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgDrqB;;;;AAIA;;;;AAIA,6F;;;AAGA,mB;AACA;AACA,MADA,kBACA;AACA;AACA,uBADA;AAEA,qBAFA;AAGA,qBAHA;AAIA,iBAJA;AAKA,iBALA;AAMA,oBANA;AAOA,oBAPA;AAQA,oBARA;AASA,wBATA;AAUA,qBAVA;AAWA,kBAXA;;AAaA,GAfA;AAgBA;AACA,WADA,mBACA,OADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAhBA,EAhBA;;AAkCA;AACA,kBADA,EAlCA;;AAqCA,QArCA,oBAqCA;AACA;AACA;AACA;AACA;;;AAGA,GA5CA;AA6CA;AACA,uDADA;AAEA,WAFA,qBAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,2BAFA;AAGA;AACA;AACA,+BADA;;AAGA;AACA,SARA;AASA,YATA,gBASA,GATA,EASA;AACA;AACA,SAXA;;AAaA,KArBA;AAsBA,YAtBA,oBAsBA,QAtBA,EAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA;AACA,6BADA,EACA;AACA;AACA,+CADA,EAFA;;AAKA;AACA,oCADA,EACA;AACA,uCAFA,EAEA;AACA,sCAHA,EAGA;AACA,kCAJA,CAIA;AAJA,WALA;AAWA;AACA,yCADA,EACA;AACA;AACA;AACA,8BAJA,EAIA;AACA,kCALA,EAKA;AACA,mCANA,EAMA;AACA,+BAPA,EAOA;AACA,iCARA,CAQA;AARA,WAXA,EAFA;;AAwBA,eAxBA,mBAwBA,GAxBA,EAwBA;AACA;AACA,SA1BA;AA2BA,YA3BA,gBA2BA,GA3BA,EA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BADA;AAEA,4BAFA;AAGA,iCAHA;;AAKA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,iGAFA;AAGA,iCAHA;AAIA,8BAJA;AAKA;AACA;AACA;AACA;AACA,6DADA;AAEA,mBAHA,EAGA,GAHA;AAIA;AACA,eAZA;;AAcA;AACA;AACA,SA3DA;;AA6DA,KAzFA;AA0FA,oBA1FA,4BA0FA,GA1FA,EA0FA;AACA;AACA;AACA,yBADA,EACA;AACA,4BAFA;AAGA,UAHA,CAGA;AACA;AACA,kDADA;;AAGA;AACA;AACA,OATA,EASA,KATA,CASA;AACA;AACA;AACA;AACA,OAbA;AAcA,KA1GA;AA2GA,cA3GA,wBA2GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA;AACA;AACA,+CADA;;AAGA,SANA;AAOA;AACA;AACA;AACA,SAVA;;AAYA,KApIA;AAqIA,aArIA,qBAqIA,IArIA,EAqIA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OAPA;AAQA,KA9IA;AA+IA,UA/IA,oBA+IA;AACA;AACA,KAjJA;AAkJA,gBAlJA,0BAkJA;AACA;AACA,KApJA;AAqJA,gBArJA,0BAqJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCADA;AAEA,UAFA,CAEA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAZA;AAaA,KApLA;AAqLA,WArLA,qBAqLA;AACA;AACA;AACA;AACA,iCADA;AAEA,YAFA,CAEA;AACA;AACA;AACA;AACA;AACA,WAJA,MAIA;AACA;AACA;AACA;AACA,SAXA;AAYA,OAdA,MAcA;AACA;AACA;AACA,KAvMA;AAwMA,YAxMA,sBAwMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA;AACA,OATA,EASA,IATA;AAUA,KArNA;AAsNA,gBAtNA,wBAsNA,IAtNA,EAsNA;AACA;AACA;AACA;AACA;AACA,KA3NA;AA4NA,WA5NA,mBA4NA,MA5NA,EA4NA,OA5NA,EA4NA,WA5NA,EA4NA;AACA;AACA;AACA;AACA,2BADA;AAEA,wBAFA;AAGA,UAHA,CAGA;AACA;AACA,OALA,EAKA,KALA,CAKA,cALA;AAMA;AACA;AACA,uEADA;AAEA,2BAFA;AAGA,wBAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,wCADA;;AAGA,SALA,MAKA;AACA;AACA,qCADA;;AAGA;AACA,OAjBA;AAkBA,KAxPA,GA7CA,E;;;;;;;;;;;;;AC5DA;AAAA;AAAA;AAAA;AAA4vC,CAAgB,ytCAAG,EAAC,C;;;;;;;;;;;ACAhxC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/login/login.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=b237504c&scoped=true&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=b237504c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b237504c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/login/login.vue\"\nexport default component.exports","export * from \"-!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=template&id=b237504c&scoped=true&\"","var components\ntry {\n  components = {\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    jigsaw: function() {\n      return import(\n        /* webpackChunkName: \"components/jigsaw/jigsaw\" */ \"@/components/jigsaw/jigsaw.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.checked = !_vm.checked\n    }\n\n    _vm.e1 = function($event) {\n      $event.stopPropagation()\n      _vm.checked = !_vm.checked\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"login\">\r\n\t\t<view class=\"\">\r\n\t\t\t<image src=\"../../static/image/appIcon.png\" mode=\"\" class=\"logo\"></image>\r\n\t\t\t<view class=\"text-t\">Z世代的高品质社交</view>\r\n\t\t\t<view class=\"input flex row-center\">\r\n\t\t\t\t<view class=\"font32 color666\">+86</view>\r\n\t\t\t\t<input type=\"text\" class=\"font32\" v-model=\"phoneNumber\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"input flex row-center btn\">\r\n\t\t\t\t<input type=\"text\" class=\"font32\" v-model=\"codeVal\" :focus=\"focus\" />\r\n\t\t\t\t<button class=\"color364 font32\" @click=\"getCode\" :disabled=\"disabled\">{{codeName}}</button>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"confirm \" @click=\"confirmPhone\">一键登录/注册</view>\r\n\t\t\t<!-- #ifdef APP-PLUS -->\r\n\t\t\t<view class=\"confirm \" style=\"margin-top: 30rpx;\" @click=\"getPhone('univerify')\">本机号码一键登录</view>\r\n\t\t\t<!-- #endif -->\r\n\t\t\t\r\n\t\t\t<view class=\"flex font24 color8a8 radio area-center\">\r\n\t\t\t\t<image src=\"../../static/image/choose.png\" mode=\"\" class=\"icon31\" v-if=\"!checked\" @click=\"checked=!checked\">\r\n\t\t\t\t</image>\r\n\t\t\t\t<image src=\"../../static/image/choosed.png\" mode=\"\" class=\"icon31\" v-else @click.stop=\"checked=!checked\">\r\n\t\t\t\t</image>\r\n\t\t\t\t我已阅读并同意<navigator class=\"color0f4\" hover-class=\"none\" url=\"/pages/user/setting/asidePage/asidePage?type=1\">\r\n\t\t\t\t\t《用户协议》</navigator>和\r\n\t\t\t\t<navigator class=\"color0f4\" hover-class=\"none\" url=\"/pages/user/setting/asidePage/asidePage?type=2\">《隐私条款》\r\n\t\t\t\t</navigator>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"elseLogin\">\r\n\t\t\t\t<view class=\"flex title area-center\">\r\n\t\t\t\t\t<view class=\"line\"></view>\r\n\t\t\t\t\t<text class=\"color8a8 font26\">其他方式登录</text>\r\n\t\t\t\t\t<view class=\"line\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"flex area-center\">\r\n\t\t\t\t\t<image src=\"../../static/image/wx.png\" mode=\"\" @click=\"wxLogin()\"></image>\r\n\t\t\t\t\t<image src=\"../../static/image/apple.png\" mode=\"\" class=\"wx\" v-if=\"model_platform=='ios'\"\r\n\t\t\t\t\t\t@click=\"appleLogin()\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<uni-popup ref=\"popup\" type=\"center\" :safe-area=\"false\" :mask-click=\"false\">\r\n\t\t\t<jigsaw @closep=\"closep\" @jigsawStatus=\"jigsawStatus\"></jigsaw>\r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapMutations,\r\n\t\tmapActions\r\n\t} from 'vuex';\r\n\timport {\r\n\t\tphone\r\n\t} from \"../../utils/check.js\";\r\n\timport jigsaw from \"../../components/jigsaw/jigsaw.vue\";\r\n\timport {\r\n\t\tgenTestUserSig\r\n\t} from '../../debug/GenerateTestUserSig.js';\r\n\tconst app = getApp();\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcodeName: '获取验证码',\r\n\t\t\t\tphoneNumber: '',\r\n\t\t\t\tdisabled: false,\r\n\t\t\t\tcodeVal: '',\r\n\t\t\t\ttimer: null,\r\n\t\t\t\tnoClick: false,\r\n\t\t\t\tonlineCode: '',\r\n\t\t\t\tchecked: false,\r\n\t\t\t\tmodel_platform: '',\r\n\t\t\t\tisJigsaw: false,\r\n\t\t\t\tfocus: false\r\n\t\t\t};\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tcodeVal(newData) {\r\n\t\t\t\tif (newData.length >= 4) {\r\n\t\t\t\t\tif (newData == this.onlineCode) {\r\n\t\t\t\t\t\tthis.focus = false;\r\n\t\t\t\t\t\tuni.hideKeyboard();\r\n\t\t\t\t\t\tthis.$refs.popup.open();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.focus = true;\r\n\t\t\t\t\t\tthis.$toast('验证码错误');\r\n\t\t\t\t\t\tthis.codeName = '获取验证码';\r\n\t\t\t\t\t\tthis.disabled = false;\r\n\t\t\t\t\t\tthis.$refs.popup.close();\r\n\t\t\t\t\t\tclearInterval(this.timer)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tjigsaw\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tlet system = uni.getSystemInfoSync();\r\n\t\t\tconsole.log(system)\r\n\t\t\tthis.model_platform = system.platform;\r\n\t\t\t// // #ifdef APP-PLUS\r\n\t\t\t// this.getPhone('univerify');\r\n\t\t\t// // #endif\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations(['setuserid', 'setuserinfo']),\r\n\t\t\twxLogin() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tif (!this.checked) {\r\n\t\t\t\t\tthis.$toast('请阅读并同意条款');\r\n\t\t\t\t\treturn\r\n\t\t\t\t};\r\n\t\t\t\tuni.login({\r\n\t\t\t\t\tprovider: 'weixin',\r\n\t\t\t\t\tonlyAuthorize: true,\r\n\t\t\t\t\tsuccess: function(loginRes) {\r\n\t\t\t\t\t\tthat.postLogin({\r\n\t\t\t\t\t\t\tcode: loginRes.code\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tconsole.log(loginRes);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetPhone(provider) {\r\n\t\t\t\tif (!this.checked) {\r\n\t\t\t\t\tthis.$toast('请阅读并同意条款');\r\n\t\t\t\t\treturn\r\n\t\t\t\t};\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tuni.login({\r\n\t\t\t\t\tprovider: provider,\r\n\t\t\t\t\tuniverifyStyle: {\r\n\t\t\t\t\t\t\"fullScreen\": false, // 是否全屏显示\r\n\t\t\t\t\t\t\"icon\": {\r\n\t\t\t\t\t\t\t\"path\": \"/static/image/appIcon.png\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"authButton\": {\r\n\t\t\t\t\t\t\t\"normalColor\": \"#FF4364\", // 授权按钮正常状态背景颜色 默认值：#3479f5  \r\n\t\t\t\t\t\t\t\"highlightColor\": \"#FF4364\", // 授权按钮按下状态背景颜色 默认值：#2861c5（仅ios支持）  \r\n\t\t\t\t\t\t\t\"disabledColor\": \"#ff7287\", // 授权按钮不可点击时背景颜色 默认值：#73aaf5（仅ios支持）  \r\n\t\t\t\t\t\t\t\"textColor\": \"#ffffff\", // 授权按钮文字颜色 默认值：#ffffff\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"privacyTerms\": {\r\n\t\t\t\t\t\t\t\"defaultCheckBoxState\": false, // 条款勾选框初始状态 默认值： true\r\n\t\t\t\t\t\t\t// \"uncheckedImage\": \"/static/image/choose.png\",\r\n\t\t\t\t\t\t\t// \"checkedImage\": \"/static/image/choosed.png\",\r\n\t\t\t\t\t\t\t\"checkBoxSize\": 12, // 可选 条款勾选框大小，仅android支持\r\n\t\t\t\t\t\t\t\"textColor\": \"#A9A8A8\", // 文字颜色 默认值：#BBBBBB  136\r\n\t\t\t\t\t\t\t\"termsColor\": \"#33A0F4\", //  协议文字颜色 默认值： #5496E3  \r\n\t\t\t\t\t\t\t\"prefix\": \"我已阅读并同意\", // 条款前的文案 默认值：“我已阅读并同意”\r\n\t\t\t\t\t\t\t\"suffix\": \"并使用本机号码登录\", // 条款后的文案 默认值：“并使用本机号码登录”\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tthat.loginByUniverify(res);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) { // 登录失败\r\n\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\tif (err.code == '30002') {\r\n\t\t\t\t\t\t\tuni.closeAuthView();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// 一键登录预登陆失败\r\n\t\t\t\t\t\tif (err.code == '30005') {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\ttitle: '预登录失败',\r\n\t\t\t\t\t\t\t\tcontent: err.errMsg\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// 未开通\r\n\t\t\t\t\t\tif (err.code == 1000) {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '登录失败',\r\n\t\t\t\t\t\t\t\tcontent: `${err.errMsg}\\n，错误码：${err.code}`,\r\n\t\t\t\t\t\t\t\tconfirmText: '开通指南',\r\n\t\t\t\t\t\t\t\tcancelText: '确定',\r\n\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tplus.runtime.openWeb(\r\n\t\t\t\t\t\t\t\t\t\t\t\t'https://ask.dcloud.net.cn/article/37965')\r\n\t\t\t\t\t\t\t\t\t\t}, 500)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tloginByUniverify(res) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\tname: 'univerify', // 你的云函数名称\r\n\t\t\t\t\tdata: res.authResult\r\n\t\t\t\t}).then(result => {\r\n\t\t\t\t\tthat.postLogin({\r\n\t\t\t\t\t\tuserName: result.result.data.phoneNumber\r\n\t\t\t\t\t})\r\n\t\t\t\t\tuni.closeAuthView();\r\n\t\t\t\t\t// 登录成功，可以关闭一键登录授权界面了\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tthat.$toast('连接本地调试服务失败，请检查客户端是否和主机在同一局域网下');\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t// 处理错误\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tappleLogin() {\r\n\t\t\t\tif (!this.checked) {\r\n\t\t\t\t\tthis.$toast('请阅读并同意条款');\r\n\t\t\t\t\treturn\r\n\t\t\t\t};\r\n\t\t\t\tlet system = uni.getSystemInfoSync().system;\r\n\t\t\t\tlet systemNum = system.split(' ')[1];\r\n\t\t\t\tconsole.log(systemNum)\r\n\t\t\t\tif ((systemNum - 0) < 13) {\r\n\t\t\t\t\tthis.$toast('iOS13以下暂不支持苹果登录');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tuni.login({\r\n\t\t\t\t\tprovider: 'apple',\r\n\t\t\t\t\tsuccess: function(loginRes) {\r\n\t\t\t\t\t\tthat.postLogin({\r\n\t\t\t\t\t\t\tappleId: loginRes.authResult.openid\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\t// 登录失败  \r\n\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tpostLogin(data) {\r\n\t\t\t\tthis.post(this.apis.user_login, data).then(res => {\r\n\t\t\t\t\tuni.closeAuthView();\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tthis.loginSuccess(res.data)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$toast(res.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tclosep() {\r\n\t\t\t\tthis.$refs.popup.close();\r\n\t\t\t},\r\n\t\t\tjigsawStatus() {\r\n\t\t\t\tthis.isJigsaw = true;\r\n\t\t\t},\r\n\t\t\tconfirmPhone() {\r\n\t\t\t\tif (!this.phoneNumber) {\r\n\t\t\t\t\tthis.$toast('请输入手机号');\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.onlineCode || this.onlineCode != this.codeVal) {\r\n\t\t\t\t\tthis.$toast('验证码错误');\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.isJigsaw) {\r\n\t\t\t\t\tthis.$refs.popup.open();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.checked) {\r\n\t\t\t\t\tthis.$toast('请阅读并同意条款');\r\n\t\t\t\t\treturn\r\n\t\t\t\t};\r\n\t\t\t\tthis.noClick = true;\r\n\t\t\t\tthis.post(this.apis.user_login, {\r\n\t\t\t\t\tuserName: this.phoneNumber,\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tthis.loginSuccess(res.data)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$toast(res.msg);\r\n\t\t\t\t\t\tthis.codeName = '获取验证码';\r\n\t\t\t\t\t\tthis.disabled = false;\r\n\t\t\t\t\t\tclearInterval(this.timer);\r\n\t\t\t\t\t\tthis.noClick = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetCode() {\r\n\t\t\t\tif (phone(this.phoneNumber)) {\r\n\t\t\t\t\tthis.setTimer();\r\n\t\t\t\t\tthis.post(this.apis.sendMessage, {\r\n\t\t\t\t\t\tphone: this.phoneNumber,\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\tif (res.code != 0) {\r\n\t\t\t\t\t\t\tthis.codeName = '获取验证码';\r\n\t\t\t\t\t\t\tthis.disabled = false;\r\n\t\t\t\t\t\t\tclearInterval(this.timer)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.log(res.msg)\r\n\t\t\t\t\t\t\tthis.onlineCode = res.msg;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$toast('手机号错误')\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsetTimer() {\r\n\t\t\t\tlet num = 60;\r\n\t\t\t\tthis.disabled = true;\r\n\t\t\t\tthis.timer = setInterval(() => {\r\n\t\t\t\t\tif (num > 1) {\r\n\t\t\t\t\t\tnum--;\r\n\t\t\t\t\t\tthis.codeName = num + 's';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.codeName = '获取验证码';\r\n\t\t\t\t\t\tthis.disabled = false;\r\n\t\t\t\t\t\tclearInterval(this.timer)\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 1000)\r\n\t\t\t},\r\n\t\t\tloginSuccess(data) {\r\n\t\t\t\tconsole.log(data)\r\n\t\t\t\tthis.imLogin(data.id, data.userSign, data.perfectFlag);\r\n\t\t\t\tthis.setuserid(data.id);\r\n\t\t\t\tthis.setuserinfo(data);\r\n\t\t\t},\r\n\t\t\timLogin(userID, userSig, perfectFlag) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tconsole.log(perfectFlag)\r\n\t\t\t\tuni.$TUIKit.login({\r\n\t\t\t\t\tuserID: userID + '',\r\n\t\t\t\t\tuserSig: userSig\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tconsole.log('im一登录')\r\n\t\t\t\t}).catch(() => {});\r\n\t\t\t\t// 登录原生插件\r\n\t\t\t\tuni.$TUICalling.login({\r\n\t\t\t\t\tsdkAppID: genTestUserSig('').sdkAppID,\r\n\t\t\t\t\tuserID: userID + '',\r\n\t\t\t\t\tuserSig: userSig\r\n\t\t\t\t}, (res) => {\r\n\t\t\t\t\tconsole.log('im原生插件一登录。。。。。。。。。。。。')\r\n\t\t\t\t\tconsole.log(JSON.stringify(res.msg))\r\n\t\t\t\t\tif (perfectFlag != 1) {\r\n\t\t\t\t\t\t// 不等于1 跳转完善信息\r\n\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\turl: '/pages/login/writeMsg'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\turl: '/pages/index/index'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.text-t {\r\n\t\ttext-align: center;\r\n\t\tfont-family: fontlogin;\r\n\t\tcolor: #FF4364;\r\n\t\tfont-size: 36rpx;\r\n\t}\r\n\r\n\t@font-face {\r\n\t\tfont-family: fontlogin;\r\n\t\tsrc: url('~@/static/login-title.ttf');\r\n\t}\r\n\r\n\t.login {\r\n\t\tpadding-top: 200rpx;\r\n\t}\r\n\r\n\t.logo {\r\n\t\twidth: 175rpx;\r\n\t\theight: 175rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t\tmargin: 30rpx auto 37rpx;\r\n\t}\r\n\r\n\t.input {\r\n\t\twidth: 612rpx;\r\n\t\tmargin: 60rpx auto 0;\r\n\t\tborder-bottom: 1px solid #DDDDDD;\r\n\t\tpadding-bottom: 20rpx;\r\n\r\n\t\tinput {\r\n\t\t\tflex: 1;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\t}\r\n\r\n\t.btn {\r\n\t\tbutton {\r\n\t\t\tline-height: 42rpx;\r\n\t\t}\r\n\r\n\t\tinput {\r\n\t\t\ttext-align: left;\r\n\t\t}\r\n\t}\r\n\r\n\t.confirm {\r\n\t\tmargin-top: 102rpx;\r\n\t}\r\n\r\n\t.radio {\r\n\t\tmargin: 42rpx 0 0;\r\n\r\n\t\t.icon31 {\r\n\t\t\tmargin-right: 16rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.elseLogin {\r\n\t\tmargin: 50rpx 0 0;\r\n\t\tpadding: 0 0 100rpx;\r\n\r\n\t\t.line {\r\n\t\t\twidth: 180rpx;\r\n\t\t\theight: 1px;\r\n\t\t\tbackground: #F1F1F1;\r\n\t\t\tmargin: 0 20rpx;\r\n\t\t}\r\n\r\n\t\t.title {\r\n\t\t\tmargin: 0 0 57rpx;\r\n\t\t}\r\n\r\n\t\timage {\r\n\t\t\twidth: 57rpx;\r\n\t\t\theight: 57rpx;\r\n\t\t}\r\n\r\n\t\t.wx {\r\n\t\t\tmargin-left: 100rpx;\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=style&index=0&id=b237504c&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=style&index=0&id=b237504c&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1646472804637\n      var cssReload = require(\"D:/software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}